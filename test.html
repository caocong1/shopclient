<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>商户端 Admin</title>
    <link rel="icon" href="img/logo.ico" type="image/x-icon">
    <!-- bootstrap & fontawesome -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-table.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/style.css">
    <!-- ace styles -->
    <link rel="stylesheet" href="css/ace.min.css" class="ace-main-stylesheet" id="main-ace-style">
    <link rel="stylesheet" href="css/ace-skins.min.css">
    <!-- my styles -->
    <link rel="stylesheet" href="css/shopclient.css">
    <style>@keyframes nodeInserted {
               from {
                   outline-color: #fff
               }
               to {
                   outline-color: #000
               }
           }

    @-moz-keyframes nodeInserted {
        from {
            outline-color: #fff
        }
        to {
            outline-color: #000
        }
    }

    @-webkit-keyframes nodeInserted {
        from {
            outline-color: #fff
        }
        to {
            outline-color: #000
        }
    }

    @-ms-keyframes nodeInserted {
        from {
            outline-color: #fff
        }
        to {
            outline-color: #000
        }
    }

    @-o-keyframes nodeInserted {
        from {
            outline-color: #fff
        }
        to {
            outline-color: #000
        }
    }

    .ace-save-state {
        animation-duration: 10ms;
        -o-animation-duration: 10ms;
        -ms-animation-duration: 10ms;
        -moz-animation-duration: 10ms;
        -webkit-animation-duration: 10ms;
        animation-delay: 0s;
        -o-animation-delay: 0s;
        -ms-animation-delay: 0s;
        -moz-animation-delay: 0s;
        -webkit-animation-delay: 0s;
        animation-name: nodeInserted;
        -o-animation-name: nodeInserted;
        -ms-animation-name: nodeInserted;
        -moz-animation-name: nodeInserted;
        -webkit-animation-name: nodeInserted
    }</style>
</head>

<body class="skin-1" style="">
<div id="navbar" class="navbar navbar-default ace-save-state navbar-fixed-top">
    <div class="navbar-container ace-save-state" id="navbar-container">
        <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler" data-target="#sidebar">
            <span class="sr-only">Toggle sidebar</span> <span class="icon-bar"></span> <span class="icon-bar"></span>
            <span class="icon-bar"></span></button>
        <div class="navbar-header pull-left"><a href="#" class="navbar-brand">
            <small><i class="fa fa-leaf"></i> Noah商户系统</small>
        </a></div>
        <div class="navbar-buttons navbar-header pull-right" role="navigation">
            <ul class="nav ace-nav">
                <li class="blue dropdown-modal"><a data-toggle="dropdown" href="#" class="dropdown-toggle"><img
                        class="nav-user-photo" src="img/1F0101.png" alt="XX店铺"> <span class="user-info">1F0101店铺<small>admin</small></span>
                    <i class="ace-icon fa fa-caret-down"></i></a>
                    <ul class="user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
                        <li><a href="#"><i class="ace-icon fa fa-cog"></i> 设置</a></li>
                        <li><a href="#"><i class="ace-icon fa fa-user"></i> 个人信息</a></li>
                        <li><a href="#"><i class="ace-icon fa fa-briefcase"></i> 店铺信息</a></li>
                        <li class="divider"></li>
                        <li><a href="javascript:loginout()"><i class="ace-icon fa fa-power-off"></i> 登出</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<div id="main-container" class="main-container ace-save-state">
    <div id="sidebar" class="sidebar responsive ace-save-state">
        <ul class="nav nav-list">
            <li id="widget" class="active"><a href="javascript:void(0);" onclick="navjump('widget','首页')"><i
                    class="menu-icon fa fa-tachometer"></i><span class="menu-text">首页</span></a><b class="arrow"></b>
            </li>
            <li id="notice"><a href="javascript:void(0);" onclick="navjump('notice','通知公告')"><i
                    class="menu-icon fa fa-envelope-open"></i><span class="menu-text">通知公告<span
                    class="badge badge-primary">2</span></span><b class="arrow"></b></a></li>
            <li id="settlement"><a href="javascript:void(0);" onclick="navjump('settlement','通知单')"><i
                    class="menu-icon fa fa-newspaper-o"></i><span class="menu-text">通知单</span><b class="arrow"></b></a>
            </li>
            <li><a href="javascript:void(0);" class="dropdown-toggle"><i class="menu-icon fa fa-shopping-bag"></i><span
                    class="menu-text">店铺销售</span><b class="arrow fa fa-angle-down"></b></a>
                <ul class="submenu">
                    <li id="chart"><a href="javascript:void(0);" onclick="navjump('chart','销售报表')"><i
                            class="menu-icon fa fa-bar-chart"></i>销售报表<b class="arrow"></b></a></li>
                    <li id="adjust"><a href="javascript:void(0);" onclick="navjump('adjust','销售补录')"><i
                            class="menu-icon fa fa-jpy"></i>销售补录<b class="arrow"></b></a></li>
                </ul>
            </li>
            <li><a href="javascript:void(0);" class="dropdown-toggle"><i class="menu-icon fa fa-android"></i><span
                    class="menu-text">系统管理</span><b class="arrow fa fa-angle-down"></b></a>
                <ul class="submenu">
                    <li id="person"><a href="javascript:void(0);" onclick="navjump('person','店铺人员管理')"><i
                            class="menu-icon fa fa-users"></i>店铺人员管理<b class="arrow"></b></a></li>
                    <li id="system"><a href="javascript:void(0);" onclick="navjump('system','系统设置')"><i
                            class="menu-icon fa fa-cog"></i>系统设置<b class="arrow"></b></a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="main-content">
        <div class="main-content-inner">
            <div class="page-content">
                <div class="page-header"><h1>首页</h1></div>
                <div class="row">
                    <div class="col-sm-12" id="main"><!-- PAGE CONTENT BEGINS -->
                        <!-- <div class="alert alert-warning">
                             <button type="button" class="close" data-dismiss="alert">
                                 <i class="ace-icon fa fa-times"></i>
                             </button>
                             <strong>提醒！</strong> 你有一条通知未读！
                             <button class="btn btn-sm btn-warning">点击查看</button>
                             <br/>
                         </div> -->
                        <div class="col-xs-12 col-sm-4 widget-container-col" id="widget-container-notice">
                            <div class="widget-box widget-color-dark" id="widget-box-notice">
                                <div class="widget-header">
                                    <h5 class="widget-title">通知公告</h5>
                                    <div class="widget-toolbar">
                                        <a href="#" data-action="collapse">
                                            <i class="ace-icon fa fa-chevron-up"></i>
                                        </a>
                                        <a href="#" data-action="close">
                                            <i class="ace-icon fa fa-times"></i>
                                        </a>
                                    </div>
                                </div>
                                <div class="widget-body">
                                    <!--加载未读的通知-->
                                    <div class="widget-main" id="notice-1"><a href="#"><p class="alert alert-info">
                                        9月11日全体店长会</p></a></div>
                                    <div class="widget-main" id="notice-2"><a href="#"><p class="alert alert-info">
                                        店长交替请更新信息</p></a></div>
                                </div>
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-4 widget-container-col">
                            <div class="widget-box widget-color-dark">
                                <div class="widget-header">
                                    <h5 class="widget-title">调帐申请</h5>
                                    <div class="widget-toolbar">
                                        <a href="#" data-action="collapse">
                                            <i class="ace-icon fa fa-chevron-up"></i>
                                        </a>
                                        <a href="#" data-action="close">
                                            <i class="ace-icon fa fa-times"></i>
                                        </a>
                                    </div>
                                </div>
                                <div class="widget-body">
                                    <div class="widget-main no-padding">
                                        <table class="table table-striped table-bordered table-hover">
                                            <thead class="thin-border-bottom">
                                            <tr>
                                                <th>申请时间</th>
                                                <th>调帐时间</th>
                                                <th>调帐金额</th>
                                                <th>申请人</th>
                                                <th>状态</th>
                                            </tr>
                                            </thead>

                                            <tbody>
                                            <tr>
                                                <td>2017年9月7日</td>
                                                <td>2017年9月7日</td>
                                                <td>200元</td>
                                                <td>管理员</td>
                                                <td>
                                                    <span class="label label-warning arrowed">审核中</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>2017年9月6日</td>
                                                <td>2017年9月6日</td>
                                                <td>150元</td>
                                                <td>管理员</td>
                                                <td>
                                                    <span class="label label-success arrowed">审核通过</span>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <span class="badge badge-primary"></span>
                        <script>
                            var unreadhtml = "<span class=\"hide badge badge-primary\"></span>";
                            var widgetnoticehtml = "<div class=\"widget-main\"><a href=\"#\"><p class=\"alert alert-info\"></p></a></div>";
                            var widgetnotice = $("#widget-box-notice");
                            var navnotice = $("#notice");
                            navnotice.find(".menu-text").append(unreadhtml);
                            //加载未读通知
                            $.ajax({
                                url: "json/notice.json",
                                anync: false,
                                success: function (data) {
                                    widgetloadnotice(data);
                                    updatenavnoticeunread()
                                }
                            });

                            function widgetloadnotice(data) {
                                var l = data.length;
                                for (var i = 0; i < l; i++) {
                                    if (!data[i].status) {
                                        widgetnotice.find(".widget-body").append(widgetnoticehtml);
                                        widgetnotice.find(".widget-main:last").attr("id", "notice-" + data[i].id);
                                        widgetnotice.find("p:last").text(data[i].title)
                                    }
                                }
                            }

                            //更新未读提示
                            function updatenavnoticeunread() {
                                var unread = widgetnotice.find(".widget-main").length;
                                if (unread) {
                                    navnotice.find(".badge").removeClass("hide");
                                    navnotice.find(".badge").text(unread)
                                } else {
                                    navnotice.find(".badge").addClass("hide");
                                }
                            }

                            widgetnotice.on("click", "a", function () {
                                var unreadnotice = $(this).closest(".widget-main");
                                var id = unreadnotice.attr("id");
                                navjump("notice", "通知公告");
                                var i = id.substr(id.lastIndexOf('-') + 1);
                                sessionStorage.setItem("noticeid", i);
                            })

                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-inner">
            <div class="footer-content"><span class="bigger-120"><span class="green bolder">Noah</span> Application © 2017-2017</span>
            </div>
        </div>
    </div>
    <a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse"><i
            class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i></a></div>

<div id="test"></div>
<table id="testable"></table>
<script src="js/jquery-2.1.4.min.js"></script>
<script type="text/javascript">
    if ('ontouchstart' in document.documentElement) document.write("<script src='js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
</script>
<script src="js/bootstrap.min.js"></script>
<script src="js/bootstrap-table.min.js"></script>
<script src="js/bootstrap-table-zh-CN.min.js"></script>
<script src="js/jstree.js"></script>
<!-- json数据 -->
<script src="json/json.js"></script>
<!-- ace js -->
<script src="js/ace.min.js"></script>
<script src="js/ace-elements.min.js"></script>
<script src="js/ace-extra.min.js"></script>
<!-- my js -->
<script src="js/shopclient.js"></script>
<script>
    $("#testable").bootstrapTable("destroy").bootstrapTable({
        url: "json/unsettlement.json",
        striped: true,
        pagination: true,
        paginationLoop: true,
        sidePagination:	'client',
        pageSize:"12",
        pageList:[15,25,50],
        uniqueId: "id",
        showRefresh: true,
        toolbar: '#unsettletoolbar',
        toolbarAlign: "right",
        iconsPrefix: 'fa',
        icons:{
            detailOpen: 'fa-plus-square-o',
            detailClose: 'fa-minus-square-o'
        },
        columns: [{
            field: "remindercode",
            title: "单号",
//            width:"160px"
        }, {
            field: "type",
            title: "异常类型",
//            width:"15%"
        }, {
            field: "createtime",
            title: "生成时间"
        }],
        onLoadSuccess:function () {
            unsettlementdoc.find(".fixed-table-toolbar").append($("#unsettletoolbartitle"));
            unsettlementdoc.find(".columns-right").remove();
        }
    });
</script>
</body>
</html>